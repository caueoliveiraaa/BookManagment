{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="wrapper" style="color: #00D6C4; margin-left: 20%; margin-right: 30%; margin-top: 2%;">
<div class="table-wrapper">
    <h1>{{ users_count }}  Usuário(s)</h1>
    <table class="table">
        <thead class="table-head">
            <tr style="border: 1px solid #00D6C4; border-radius: 9px; color: #00D6C4;">
                <th>Id</th>
                <th>Usuário</th>
                <th>Primeiro nome</th>
                <th>Último nome</th>
                <th>É administrador</th> 
                <th>Está ativo</th> 
                <th>A pagar</th> 
                <th>Quantidade reservas</th> 
                <th>Último login</th> 
                <th>Data de criação</th>
                <th>Excluir</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr style="padding: 20px; border: 1px solid #00D6C4; border-radius: 9px; color: #00D6C4;">  
                    <td>{{ user.id }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.first_name }}</td>
                    <td>{{ user.last_name }}</td>
                    <td>{{ user.is_superuser }}</td>
                    <td>{{ user.is_active }}</td>
                    <td>{{ user.bill }}</td>
                    <td>{{ reservations_count }}</td>
                    <td>{{ user.last_login }}</td>
                    <td>{{ user.date_joined }}</td>
                    <td>
                        <a style="margin-left: 20px; text-decoration: none;"
                           href="{% url 'del_books' user.id %}"
                           onclick="return confirm('Are you sure you want to delete this user?')">
                           <i class="fa fa-trash-o" aria-hidden="true"></i>
                        </a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="pagination">
        <span class="step-links">
            <span class="current" style="padding-right: 10px;">
                Página {{ books.number }} de {{ books.paginator.num_pages }}.
            </span>
            {% if books.has_previous %}
                <a href="?page=1">&laquo; Primeiro</a>
                <a href="?page={{ books.previous_page_number }}">Anterior</a>
            {% endif %}
            {% if books.has_next %}
                <a href="?page={{ books.next_page_number }}">Próximo</a>
                <a href="?page={{ books.paginator.num_pages }}">Último &raquo;</a>
            {% endif %}
        </span>
    </div>
</div>
</section>
{% endblock %}

